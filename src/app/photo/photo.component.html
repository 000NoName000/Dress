<div id="wrapper">
  <mat-toolbar color="primary">
    <button type="button" mat-icon-button (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <span></span>
    <button type="button" mat-icon-button (click)="showInfo = !showInfo">
      <mat-icon>info</mat-icon>
    </button>
  </mat-toolbar>
  <img #image [src]="'Dress/' + album + '/' + filename" (load)="load()" (loadedmetadata)="loadedmetadata = true">
</div>
<mat-list *ngIf="showInfo" [class.handset]="isHandset$ | async">
  <h3 mat-subheader>详情<mat-icon (click)="showInfo = false">close</mat-icon></h3>
  <mat-list-item>
    <mat-icon mat-list-icon>date_range</mat-icon>
    <h4 mat-line>{{commit.date | date}}</h4>
    <p mat-line>{{commit.date | date:'mediumTime'}}</p>
  </mat-list-item>

  <mat-list-item>
    <mat-icon mat-list-icon>photo</mat-icon>
    <h4 mat-line>{{filename}}</h4>
    <p mat-line *ngIf="loadedmetadata">
      <span>{{(image.naturalWidth * image.naturalHeight / 1000000).toFixed(1)}}MP</span>
      <span>{{image.naturalWidth}}x{{image.naturalHeight}}</span>
      <span>{{image.filesize}}</span>
    </p>
  </mat-list-item>
  <mat-list-item *ngIf="exif">
    <mat-icon mat-list-icon>camera</mat-icon>
    <h4 mat-line>{{exif.Model}}</h4>
    <p mat-line>
      <span>ƒ/{{exif.FNumber}}</span>
      <span>1/{{1/exif.ExposureTime}}</span>
      <span>{{exif.FocalLength}} 毫米</span>
      <span>ISO{{exif.ISOSpeedRatings}}</span>
    </p>
  </mat-list-item>
  <mat-divider></mat-divider>
  <!--<h3 mat-subheader>Notes</h3>-->
  <!--<mat-list-item *ngFor="let note of notes">-->
    <!--<mat-icon mat-list-icon>note</mat-icon>-->
    <!--<h4 mat-line>{{note.name}}</h4>-->
    <!--<p mat-line> {{note.updated | date}} </p>-->
  <!--</mat-list-item>-->
</mat-list>
